<template>
  <header class="header">
    <div class="header-container">
      <div class="logo">
        <svg class="logo-svg" width="65" height="22" viewBox="0 0 65 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M36.2283 11.7193H33.4737L34.8424 7.8154H34.8761L36.2283 11.7193ZM37.124 14.1593L37.9522 16.29H41.4839L36.6848 4.02561H33.0687L28.168 16.29H31.6828L32.5616 14.1593H37.124Z" fill="white"/>
          <path d="M45.5711 4.02561H42.2588V16.29H45.5711V4.02561Z" fill="white"/>
          <path d="M54.0322 6.72571V4.02561H46.7832V16.29H54.0322V13.5899H50.0951V11.4755H53.8297V8.77542H50.0951V6.72571H54.0322Z" fill="white"/>
          <path d="M58.5179 6.59563H59.0757C60.36 6.59563 61.4586 6.61199 61.4586 8.15696C61.4586 9.65364 60.2756 9.65364 59.0757 9.65364H58.5179V6.59563ZM55.2061 16.29H58.5179V12.2237H60.3937C63.2828 12.2237 64.9055 10.9548 64.9055 8.0596C64.9055 5.24538 63.0128 4.02561 60.2751 4.02561H55.2061V16.29Z" fill="white"/>
          <path d="M7.42601 3.8708H0V16.29H7.42601V3.8708Z" fill="#CE1B1B"/>
          <path d="M26.8602 3.8708H19.5225V16.29H26.8602V3.8708Z" fill="#CE1B1B"/>
          <path d="M13.4743 0L9.4541 3.86999V16.2892H17.495V3.86999L13.4743 0Z" fill="#CE1B1B"/>
          <path d="M4.92324 20.9257H3.36206C3.36769 21.1523 3.42653 21.3203 3.5386 21.4292C3.65067 21.5386 3.83284 21.5928 4.08597 21.5928C4.22833 21.5928 4.37069 21.5713 4.51348 21.5278C4.65584 21.4843 4.75492 21.4432 4.80988 21.4041V21.782C4.7519 21.8155 4.63334 21.851 4.45463 21.8889C4.27593 21.9264 4.08164 21.9455 3.87265 21.9455C3.45682 21.9455 3.16648 21.8498 3.00032 21.6579C2.8346 21.4663 2.75195 21.1691 2.75195 20.7661C2.75195 20.4249 2.84931 20.1612 3.04403 19.9748C3.23874 19.7889 3.50615 19.6955 3.84625 19.6955C4.18333 19.6955 4.44727 19.7901 4.63766 19.9788C4.82805 20.168 4.92324 20.4301 4.92324 20.7657V20.9257ZM4.33434 20.6148C4.32828 20.4357 4.28415 20.2936 4.2015 20.1887C4.11842 20.0838 4.0003 20.0315 3.84625 20.0315C3.53255 20.0315 3.37115 20.2262 3.36206 20.6148H4.33477H4.33434Z" fill="white"/>
          <path d="M1.65248 19.8216C1.47811 19.7378 1.25397 19.6959 0.980933 19.6959C0.693187 19.6959 0.457797 19.7881 0.274765 19.9728C0.0917326 20.1576 0 20.4221 0 20.7661C0 21.183 0.0917326 21.4839 0.274765 21.6686C0.457797 21.8534 0.752899 21.9455 1.16007 21.9455C1.55556 21.9455 1.92465 21.8853 2.26778 21.7652V18.8608L1.65292 19.0328V19.822L1.65248 19.8216ZM1.65248 21.4923C1.51013 21.5509 1.34743 21.5805 1.1644 21.5805C0.981365 21.5805 0.847228 21.5154 0.763284 21.3853C0.678907 21.2553 0.636935 21.049 0.636935 20.7661C0.636935 20.2988 0.81391 20.065 1.16872 20.065C1.22671 20.065 1.28512 20.0714 1.3431 20.0838C1.40152 20.0965 1.46296 20.1133 1.5283 20.134C1.59364 20.1552 1.63518 20.1672 1.65248 20.1696V21.4923Z" fill="white"/>
          <path d="M9.98412 21.8027C9.90277 21.8334 9.75868 21.8649 9.55228 21.8973C9.34588 21.9296 9.10184 21.9455 8.81972 21.9455C8.1248 21.9455 7.77734 21.7117 7.77734 21.2445C7.77734 21.0206 7.88119 20.8479 8.08932 20.7262C8.29702 20.6045 8.55664 20.5438 8.86775 20.5438H9.38656V20.4094C9.38656 20.166 9.17713 20.0443 8.75871 20.0443C8.53197 20.0443 8.26586 20.1017 7.96081 20.2162V19.8551C7.96643 19.8551 7.99586 19.8476 8.04821 19.832C8.10057 19.8168 8.15423 19.8025 8.20961 19.7901C8.265 19.7773 8.3312 19.7638 8.40779 19.7482C8.48481 19.7326 8.56832 19.7203 8.65832 19.7103C8.74832 19.7007 8.83703 19.6955 8.92443 19.6955C9.29353 19.6955 9.56267 19.753 9.73142 19.8675C9.90017 19.9824 9.98412 20.1712 9.98412 20.4341V21.8027ZM9.38656 21.5469V20.8459H9.06809C8.84136 20.8459 8.6713 20.8754 8.55794 20.9341C8.44457 20.9927 8.38788 21.0937 8.38788 21.2361C8.38788 21.359 8.43159 21.4528 8.51856 21.5174C8.60597 21.582 8.72193 21.614 8.86732 21.614C9.09102 21.614 9.26454 21.5916 9.38656 21.5469Z" fill="white"/>
          <path d="M6.72266 21.8952H7.3332V18.8604L6.72266 19.0312V21.8952Z" fill="white"/>
          <path d="M14.1865 20.871C14.1865 21.2154 14.0857 21.4803 13.8836 21.6666C13.6816 21.8526 13.383 21.9459 12.9875 21.9459C12.5574 21.9459 12.2489 21.8542 12.0633 21.671C11.8772 21.4879 11.7842 21.2229 11.7842 20.8758V19.0415H12.4164V20.7876C12.4164 21.0394 12.4583 21.2241 12.5427 21.3414C12.6271 21.4591 12.7751 21.5178 12.9875 21.5178C13.1883 21.5178 13.3319 21.4572 13.4194 21.3355C13.5068 21.2138 13.55 21.0298 13.55 20.7836V19.0419H14.1865V20.8718V20.871Z" fill="white"/>
          <path d="M16.9644 21.8953H16.3495V20.6025C16.3495 20.4149 16.3141 20.2801 16.2427 20.1975C16.1713 20.1149 16.0557 20.0738 15.8961 20.0738C15.8117 20.0738 15.7204 20.083 15.6213 20.1009C15.5226 20.1193 15.4543 20.138 15.4162 20.1576V21.8953H14.8057V19.8723C15.1722 19.7546 15.54 19.6959 15.909 19.6959C16.2492 19.6959 16.5101 19.7546 16.6918 19.8723C16.8735 19.99 16.9644 20.166 16.9644 20.401V21.8953Z" fill="white"/>
          <path d="M18.1592 21.8952H17.5487V19.7462H18.1592V21.8952ZM17.54 19.3599H18.1679V18.9318L17.54 19.1074V19.3599Z" fill="white"/>
          <path d="M20.867 19.7462L20.0994 21.8953H19.2842L18.5166 19.7462H19.1531L19.707 21.509L20.2522 19.7462H20.867Z" fill="white"/>
          <path d="M23.2308 20.9257H21.6696C21.6752 21.1523 21.7345 21.3203 21.8461 21.4292C21.9582 21.5386 22.1403 21.5928 22.3935 21.5928C22.5358 21.5928 22.6782 21.5713 22.8206 21.5278C22.9629 21.4843 23.062 21.4432 23.117 21.4041V21.782C23.059 21.8155 22.9404 21.851 22.7617 21.8889C22.583 21.9264 22.3887 21.9455 22.1793 21.9455C21.7635 21.9455 21.4731 21.8498 21.307 21.6579C21.1412 21.4663 21.0586 21.1691 21.0586 20.7661C21.0586 20.4249 21.156 20.1612 21.3507 19.9748C21.5454 19.7889 21.8128 19.6955 22.1529 19.6955C22.49 19.6955 22.7539 19.7901 22.9443 19.9788C23.1347 20.168 23.2299 20.4301 23.2299 20.7657V20.9253L23.2308 20.9257ZM22.6423 20.6148C22.6362 20.4357 22.5921 20.2936 22.5094 20.1887C22.4264 20.0838 22.3082 20.0315 22.1542 20.0315C21.8401 20.0315 21.6791 20.2262 21.67 20.6148H22.6423Z" fill="white"/>
          <path d="M25.0929 20.0945C25.0145 20.0778 24.9345 20.0694 24.8531 20.0694C24.8008 20.0694 24.7432 20.0738 24.6809 20.0822C24.6186 20.0905 24.5667 20.0989 24.526 20.1073C24.4853 20.1157 24.4408 20.1257 24.3932 20.1368C24.3452 20.148 24.3196 20.1536 24.3166 20.1536V21.8953H23.7061V19.8679C23.7874 19.8372 23.935 19.8009 24.1487 19.759C24.3625 19.7171 24.568 19.6959 24.7657 19.6959C24.9315 19.6959 25.0405 19.7043 25.0929 19.7211V20.0945Z" fill="white"/>
          <path d="M27.2253 21.2489C27.2253 21.4671 27.14 21.6379 26.97 21.7608C26.7999 21.8837 26.5507 21.9455 26.2218 21.9455C26.0068 21.9455 25.8125 21.9264 25.6399 21.8889C25.4668 21.851 25.3512 21.8155 25.2933 21.7819V21.4085C25.549 21.5318 25.7948 21.5932 26.0302 21.5932C26.2136 21.5932 26.3529 21.5689 26.449 21.5198C26.5446 21.4707 26.5927 21.4085 26.5927 21.3331C26.5927 21.2632 26.5477 21.2022 26.4577 21.1503C26.3677 21.0984 26.2586 21.0533 26.1305 21.0138C26.0025 20.9747 25.8748 20.9304 25.7467 20.8818C25.6187 20.8327 25.5096 20.7621 25.4196 20.6699C25.3296 20.5777 25.2842 20.4684 25.2842 20.3427C25.2842 20.1412 25.3742 19.9832 25.5546 19.8683C25.7351 19.7538 25.9674 19.6963 26.2521 19.6963C26.6039 19.6963 26.8977 19.7494 27.1331 19.8559V20.2254C26.886 20.1109 26.6532 20.0534 26.4352 20.0534C26.0808 20.0534 25.9034 20.1332 25.9034 20.2928C25.9034 20.3682 25.9722 20.4377 26.1106 20.5007C26.2487 20.5638 26.3997 20.6176 26.5641 20.6623C26.7281 20.707 26.8795 20.7808 27.0176 20.8826C27.1556 20.9847 27.2248 21.1072 27.2248 21.2497L27.2253 21.2489Z" fill="white"/>
          <path d="M28.3068 21.8953H27.6963V19.7462H28.3068V21.8953Z" fill="white"/>
          <path d="M33.7097 21.8027C33.6284 21.8334 33.4843 21.8649 33.2779 21.8973C33.0715 21.9296 32.8274 21.9455 32.5453 21.9455C31.8504 21.9455 31.5029 21.7117 31.5029 21.2445C31.5029 21.0206 31.6068 20.8479 31.8149 20.7262C32.0226 20.6045 32.2822 20.5438 32.5933 20.5438H33.1121V20.4094C33.1121 20.166 32.9027 20.0443 32.4843 20.0443C32.2576 20.0443 31.9915 20.1017 31.6864 20.2162V19.8551C31.692 19.8551 31.7214 19.8476 31.7738 19.832C31.8262 19.8168 31.8798 19.8025 31.9352 19.7901C31.9906 19.7773 32.0564 19.7638 32.1338 19.7482C32.2108 19.7326 32.2943 19.7203 32.3848 19.7103C32.4748 19.7007 32.5635 19.6955 32.6509 19.6955C33.02 19.6955 33.2891 19.753 33.4574 19.8675C33.6258 19.9824 33.7106 20.1712 33.7106 20.4341V21.8023L33.7097 21.8027ZM33.1121 21.5469V20.8459H32.7937C32.5669 20.8459 32.3969 20.8754 32.2835 20.9341C32.1702 20.9927 32.1135 21.0937 32.1135 21.2361C32.1135 21.359 32.1572 21.4528 32.2441 21.5174C32.3311 21.582 32.4475 21.614 32.5929 21.614C32.8166 21.614 32.9901 21.5916 33.1121 21.5469Z" fill="white"/>
          <path d="M30.4474 19.8216C30.273 19.7378 30.0489 19.6959 29.7759 19.6959C29.4881 19.6959 29.2527 19.7881 29.0697 19.9728C28.8867 20.1576 28.7949 20.4221 28.7949 20.7661C28.7949 21.183 28.8867 21.4839 29.0697 21.6686C29.2527 21.8534 29.5478 21.9455 29.955 21.9455C30.3505 21.9455 30.7196 21.8853 31.0627 21.7652V18.8608L30.4478 19.0328V19.822L30.4474 19.8216ZM30.4474 21.4923C30.305 21.5509 30.1424 21.5805 29.9593 21.5805C29.7763 21.5805 29.6421 21.5154 29.5582 21.3853C29.4738 21.2553 29.4319 21.049 29.4319 20.7661C29.4319 20.2988 29.6088 20.065 29.9636 20.065C30.0216 20.065 30.08 20.0714 30.138 20.0838C30.1964 20.0965 30.2579 20.1133 30.3232 20.134C30.3886 20.1552 30.4301 20.1672 30.4474 20.1696V21.4923Z" fill="white"/>
          <path d="M35.8331 19.8216C35.6588 19.7378 35.4346 19.6959 35.1616 19.6959C34.8738 19.6959 34.6385 19.7881 34.4554 19.9728C34.2724 20.1576 34.1807 20.4221 34.1807 20.7661C34.1807 21.183 34.2724 21.4839 34.4554 21.6686C34.6385 21.8534 34.9336 21.9455 35.3407 21.9455C35.7362 21.9455 36.1053 21.8853 36.4484 21.7652V18.8608L35.8336 19.0328V19.822L35.8331 19.8216ZM35.8331 21.4923C35.6908 21.5509 35.5281 21.5805 35.3446 21.5805C35.1612 21.5805 35.0275 21.5154 34.9435 21.3853C34.8591 21.2553 34.8172 21.049 34.8172 20.7661C34.8172 20.2988 34.9941 20.065 35.349 20.065C35.4069 20.065 35.4653 20.0714 35.5233 20.0838C35.5813 20.0961 35.6432 20.1133 35.7085 20.134C35.7739 20.1552 35.8154 20.1672 35.8327 20.1696V21.4919L35.8331 21.4923Z" fill="white"/>
          <path d="M27.6875 19.36H28.3153V18.9322L27.6875 19.1078V19.36Z" fill="white"/>
          <path d="M56.4978 20.397C56.6782 20.3691 56.8253 20.2984 56.9404 20.1851C57.0551 20.0718 57.1127 19.9285 57.1127 19.755C57.1127 19.52 57.0144 19.3424 56.8184 19.2219C56.6224 19.1018 56.3468 19.0415 55.992 19.0415H54.8535V21.8961H56.0525C56.8085 21.8961 57.1862 21.6371 57.1862 21.1196C57.1862 20.9097 57.1256 20.7433 57.0053 20.62C56.8846 20.4971 56.7154 20.4229 56.4974 20.3978L56.4978 20.397ZM55.4861 19.427H55.9482C56.3 19.427 56.4757 19.5587 56.4757 19.8216C56.4757 19.9505 56.4286 20.0482 56.3338 20.1153C56.2395 20.1823 56.1148 20.2158 55.9608 20.2158H55.4853V19.4266L55.4861 19.427ZM55.9617 21.509H55.4861V20.5941H55.9526C56.3364 20.5941 56.5281 20.7481 56.5281 21.0557C56.5281 21.3582 56.3394 21.509 55.9617 21.509Z" fill="white"/>
          <path d="M58.7037 19.6959C58.3636 19.6959 58.0962 19.7889 57.9014 19.9752C57.7067 20.1616 57.6094 20.4253 57.6094 20.7665C57.6094 21.1695 57.6925 21.4667 57.8577 21.6586C58.0235 21.8502 58.3142 21.9463 58.7301 21.9463C58.9395 21.9463 59.1333 21.9276 59.3121 21.8897C59.4908 21.8518 59.6093 21.8163 59.6673 21.7827V21.4049C59.6119 21.444 59.5133 21.4855 59.3709 21.5286C59.2285 21.5721 59.0858 21.5936 58.9434 21.5936C58.6903 21.5936 58.5081 21.5389 58.396 21.43C58.284 21.3207 58.2251 21.1531 58.2195 20.9265H59.7807V20.7669C59.7807 20.4313 59.6855 20.1687 59.4951 19.9796C59.3047 19.7909 59.0408 19.6959 58.7037 19.6959ZM58.2195 20.6152C58.2281 20.2262 58.3895 20.0319 58.7037 20.0319C58.8577 20.0319 58.9763 20.0846 59.0589 20.1895C59.142 20.2944 59.1861 20.4365 59.1918 20.6156L58.2195 20.6152Z" fill="white"/>
          <path d="M64.6125 19.9497C64.4178 19.7805 64.1227 19.6959 63.7272 19.6959C62.9423 19.6959 62.5498 20.0526 62.5498 20.7665C62.5498 21.1806 62.6355 21.4807 62.8073 21.667C62.9786 21.8534 63.2854 21.9463 63.7276 21.9463C64.1287 21.9463 64.4251 21.8582 64.6172 21.6818C64.8089 21.5054 64.905 21.2006 64.905 20.7669C64.905 20.3918 64.8076 20.1197 64.6129 19.9505L64.6125 19.9497ZM64.1395 21.3937C64.0539 21.5182 63.9163 21.5804 63.7276 21.5804C63.5329 21.5804 63.3931 21.5194 63.3088 21.3977C63.2244 21.276 63.1824 21.0653 63.1824 20.7661C63.1824 20.5199 63.2244 20.3415 63.3088 20.231C63.3931 20.1205 63.5325 20.0654 63.7276 20.0654C63.9193 20.0654 64.0573 20.1201 64.1417 20.229C64.2261 20.3383 64.2681 20.5171 64.2681 20.7665C64.2681 21.0601 64.2252 21.2692 64.1395 21.3937Z" fill="white"/>
          <path d="M60.2568 21.8952H60.8674V18.8604L60.2568 19.0312V21.8952Z" fill="white"/>
          <path d="M61.4512 21.8952H62.0617V18.8604L61.4512 19.0312V21.8952Z" fill="white"/>
          <path d="M39.229 19.0411L38.248 21.8956H38.8936L39.1256 21.1128H40.1035L40.3328 21.8956H41.013L40.0407 19.0411H39.229ZM39.2402 20.7238L39.6171 19.4525L39.9892 20.7238H39.2402Z" fill="white"/>
          <path d="M43.2426 19.8723C43.0609 19.7546 42.7999 19.6959 42.4598 19.6959C42.0907 19.6959 41.7229 19.7546 41.3564 19.8723V21.8957H41.967V20.158C42.0046 20.1384 42.073 20.1197 42.1721 20.1013C42.2707 20.083 42.3625 20.0742 42.4468 20.0742C42.6065 20.0742 42.722 20.1157 42.7934 20.1979C42.8648 20.2805 42.9003 20.4153 42.9003 20.6029V21.8957H43.5152V20.4014C43.5152 20.1664 43.4243 19.99 43.2426 19.8723Z" fill="white"/>
          <path d="M47.2942 19.7586C47.0805 19.8005 46.9329 19.8368 46.8516 19.8679V21.8953H47.4621V20.1532C47.4651 20.1532 47.4907 20.1476 47.5383 20.1364C47.5863 20.1253 47.6304 20.1153 47.6711 20.1069C47.7118 20.0985 47.7633 20.0901 47.826 20.0818C47.8883 20.0734 47.9459 20.069 47.9982 20.069C48.0796 20.069 48.1596 20.0774 48.2379 20.0941V19.7207C48.1856 19.7039 48.0765 19.6955 47.9108 19.6955C47.7131 19.6955 47.508 19.7167 47.2942 19.7586Z" fill="white"/>
          <path d="M50.1921 18.8604H49.6642L49.2891 19.4397H49.7295L50.1921 18.8604Z" fill="white"/>
          <path d="M49.5547 19.6959C49.2146 19.6959 48.9472 19.7889 48.752 19.9752C48.5573 20.1616 48.46 20.4253 48.46 20.7665C48.46 21.1695 48.5426 21.4667 48.7083 21.6586C48.8741 21.8502 49.1648 21.9463 49.5807 21.9463C49.7901 21.9463 49.9839 21.9276 50.1626 21.8897C50.3413 21.8518 50.4599 21.8163 50.5179 21.7827V21.4049C50.4625 21.444 50.3638 21.4855 50.2215 21.5286C50.0791 21.5721 49.9363 21.5936 49.794 21.5936C49.5408 21.5936 49.3587 21.5389 49.2466 21.43C49.1345 21.3207 49.0757 21.1531 49.0701 20.9265H50.6312V20.7669C50.6312 20.4313 50.5361 20.1687 50.3457 19.9796C50.1553 19.7909 49.8913 19.6963 49.5543 19.6963L49.5547 19.6959ZM49.0705 20.6152C49.0792 20.2262 49.2406 20.0319 49.5547 20.0319C49.7087 20.0319 49.8273 20.0846 49.9099 20.1895C49.9926 20.2944 50.0372 20.4365 50.0428 20.6156H49.0701L49.0705 20.6152Z" fill="white"/>
          <path d="M52.7148 20.8818C52.5768 20.7796 52.4254 20.7062 52.2614 20.6615C52.0969 20.6168 51.9459 20.563 51.8079 20.4999C51.6699 20.4369 51.6006 20.3679 51.6006 20.292C51.6006 20.1324 51.778 20.0526 52.1329 20.0526C52.3509 20.0526 52.5833 20.1101 52.8308 20.2246V19.8551C52.5954 19.7486 52.3016 19.6955 51.9498 19.6955C51.6647 19.6955 51.4323 19.753 51.2519 19.8675C51.0719 19.9824 50.9814 20.1404 50.9814 20.3419C50.9814 20.4676 51.0264 20.5769 51.1169 20.6695C51.2069 20.7617 51.3159 20.8323 51.444 20.8814C51.5721 20.9305 51.6997 20.9744 51.8278 21.0135C51.9559 21.0526 52.0649 21.098 52.1549 21.1499C52.2449 21.2018 52.2904 21.2624 52.2904 21.3327C52.2904 21.4081 52.2423 21.4707 52.1463 21.5194C52.0502 21.5685 51.9109 21.5928 51.7279 21.5928C51.4925 21.5928 51.2467 21.5314 50.991 21.4081V21.7816C51.0489 21.8151 51.1649 21.851 51.3376 21.8885C51.5106 21.9264 51.7045 21.9451 51.9195 21.9451C52.248 21.9451 52.4972 21.8837 52.6672 21.7604C52.8373 21.6371 52.9225 21.4667 52.9225 21.2481C52.9225 21.1052 52.8533 20.9831 52.7153 20.881L52.7148 20.8818Z" fill="white"/>
          <path d="M45.6568 19.8216C45.4824 19.7378 45.2583 19.6955 44.9853 19.6955C44.6975 19.6955 44.4621 19.7881 44.2787 19.9724C44.0956 20.1572 44.0039 20.4217 44.0039 20.7657C44.0039 21.1826 44.0956 21.4835 44.2787 21.6682C44.4617 21.853 44.7568 21.9451 45.164 21.9451C45.5595 21.9451 45.9286 21.8849 46.2717 21.7644V18.8596L45.6568 19.0316V19.8208V19.8216ZM45.6568 21.4923C45.5145 21.5509 45.3518 21.5804 45.1683 21.5804C44.9848 21.5804 44.8516 21.5154 44.7672 21.3853C44.6828 21.2552 44.6408 21.049 44.6408 20.7661C44.6408 20.2988 44.8183 20.065 45.1731 20.065C45.231 20.065 45.2895 20.0714 45.3474 20.0838C45.4054 20.0965 45.4673 20.1133 45.5326 20.134C45.598 20.1552 45.6395 20.1667 45.6568 20.1695V21.4923Z" fill="white"/>
        </svg>
        <div class="logo-divider logo-divider-desktop"></div>
        <span class="logo-text-desktop">Bibliotecas</span>
        <div class="logo-divider logo-divider-mobile"></div>
        <span class="logo-text-mobile">Bibliotecas</span>
      </div>
      <div class="header-right">
        <nav class="nav">
          <a 
            href="#" 
            :class="['nav-link', { active: isAtTop && !isInBibliografia && !isInBibliotecas }]"
            @click="scrollToTop"
          >
            Servicios
            <span class="dropdown-icon">▼</span>
          </a>
          <a 
            href="#bibliografia" 
            :class="['nav-link', { active: isInBibliografia }]"
            @click="scrollToSection('#bibliografia', $event)"
          >
            Bibliografía por escuelas
            <span class="dropdown-icon">▼</span>
          </a>
          <a 
            href="#bibliotecas" 
            :class="['nav-link', { active: isInBibliotecas }]"
            @click="scrollToSection('#bibliotecas', $event)"
          >
            Encuentra tu biblioteca
            <span class="dropdown-icon">▼</span>
          </a>
        </nav>
        <div class="user-icon">
          <svg class="user-icon-svg" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.895 14.9629C15.3871 13.735 14.41 12.97 13.0214 12.745C12.2307 12.6164 11.8386 12.565 10.045 12.565H9.99357C8.16143 12.565 7.72429 12.6229 6.97214 12.745C5.57714 12.9636 4.60643 13.7286 4.09857 14.9629C2.96714 13.6193 2.27929 11.89 2.27929 10C2.27929 5.74429 5.73786 2.28571 9.99357 2.28571C14.2493 2.28571 17.7079 5.74429 17.7079 10C17.7079 11.89 17.02 13.6193 15.8886 14.9629H15.895ZM5.12071 15.9721C5.39714 14.8279 6.05286 14.1979 7.17786 14.0179C7.82714 13.915 8.18714 13.8571 9.99357 13.8571H10.045C11.8064 13.8571 12.1279 13.9086 12.8157 14.0179C13.9407 14.1979 14.5964 14.8279 14.8729 15.9721C13.5421 17.0586 11.845 17.7143 9.99357 17.7143C8.14214 17.7143 6.445 17.0586 5.11429 15.9721H5.12071ZM10 1C5.03714 1 1 5.03714 1 10C1 14.9629 5.03714 19 10 19C14.9629 19 19 14.9629 19 10C19 5.03714 14.9629 1 10 1ZM10.0257 10C9.07429 10 8.30286 9.22858 8.30286 8.27715C8.30286 7.32572 9.07429 6.55429 10.0257 6.55429C10.9771 6.55429 11.7421 7.32572 11.7421 8.27715C11.7421 9.22858 10.9707 10 10.0257 10ZM10.0257 5.275C8.36714 5.275 7.01714 6.625 7.01714 8.28357C7.01714 9.94214 8.36714 11.2921 10.0257 11.2921C11.6843 11.2921 13.0279 9.94214 13.0279 8.28357C13.0279 6.625 11.6779 5.275 10.0257 5.275Z" fill="white"/>
          </svg>
          <svg class="menu-icon-svg" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 16.2495C19 15.8368 18.6625 15.4991 18.25 15.4991H1.75C1.3375 15.4991 1 15.8368 1 16.2495C1 16.6623 1.3375 17 1.75 17H18.25C18.6625 17 19 16.6623 19 16.2495ZM19 10.9962C19 10.5835 18.6625 10.2458 18.25 10.2458H1.75C1.3375 10.2458 1 10.5835 1 10.9962C1 11.409 1.3375 11.7467 1.75 11.7467H18.25C18.6625 11.7467 19 11.409 19 10.9962ZM18.25 6.50094H1.75C1.3375 6.50094 1 6.16323 1 5.75047C1 5.33771 1.3375 5 1.75 5H18.25C18.6625 5 19 5.33771 19 5.75047C19 6.16323 18.6625 6.50094 18.25 6.50094Z" fill="white"/>
        </svg>
        </div>
      </div>
    </div>
  </header>
</template>

<script>
export default {
  name: 'HeaderSection',
  data() {
    return {
      isAtTop: true,
      isInBibliografia: false,
      isInBibliotecas: false
    }
  },
  mounted() {
    this.updateActiveLink()
    this.handleScroll()
    window.addEventListener('hashchange', this.updateActiveLink)
    window.addEventListener('scroll', this.handleScroll)
  },
  beforeUnmount() {
    window.removeEventListener('hashchange', this.updateActiveLink)
    window.removeEventListener('scroll', this.handleScroll)
  },
  methods: {
    updateActiveLink() {
      // Método para compatibilidad con hashchange event
    },
    handleScroll() {
      const scrollPosition = window.scrollY || window.pageYOffset
      // Si está cerca del inicio (menos de 200px desde arriba), marcar Servicios como activo
      this.isAtTop = scrollPosition < 200
      
      // Detectar si está en la sección de Bibliografía
      const bibliografiaSection = document.getElementById('bibliografia')
      if (bibliografiaSection) {
        const rect = bibliografiaSection.getBoundingClientRect()
        const headerHeight = 80 // Altura aproximada del header
        // Si la sección está visible en la pantalla (con margen para el header)
        this.isInBibliografia = rect.top <= headerHeight + 100 && rect.bottom >= headerHeight
      }
      
      // Detectar si está en la sección de Bibliotecas
      const bibliotecasSection = document.getElementById('bibliotecas')
      if (bibliotecasSection) {
        const rect = bibliotecasSection.getBoundingClientRect()
        const headerHeight = 80
        this.isInBibliotecas = rect.top <= headerHeight + 100 && rect.bottom >= headerHeight
      }
      
      // Si no está en el top ni en ninguna sección específica, actualizar según el hash
      if (!this.isAtTop && !this.isInBibliografia && !this.isInBibliotecas) {
        this.updateActiveLink()
      }
    },
    scrollToSection(hash, e) {
      e.preventDefault()
      const section = document.querySelector(hash)
      if (section) {
        const headerHeight = 80
        const sectionPosition = section.getBoundingClientRect().top + window.pageYOffset - headerHeight
        window.scrollTo({
          top: sectionPosition,
          behavior: 'smooth'
        })
        // Actualizar el estado después de un pequeño delay para que la detección automática funcione
        setTimeout(() => {
          this.handleScroll()
        }, 500)
      }
    },
    scrollToTop(e) {
      e.preventDefault()
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      })
      this.isAtTop = true
    }
  }
}
</script>

<style scoped>
.header {
  background-color: #182844;
  color: var(--white);
  padding: 16px 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.header-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 24px;
}

.logo {
  display: flex;
  align-items: center;
  gap: 16px;
}

.logo svg {
  display: block;
  height: auto;
  width: 80px;
  height: 28px;
}

.logo-divider {
  display: none;
  width: 2px;
  height: 32px;
  background: #fff;
}

.logo-text-mobile {
  display: none;
  color: var(--white);
  font-size: 18px;
  font-weight: bold;
}

.logo-divider-desktop {
  display: block;
  width: 2px;
  height: 32px;
  background: #fff;
}

.logo-text-desktop {
  display: block;
  color: var(--white);
  font-size: 24px;
  font-weight: bold;
}

.nav {
  display: flex;
  gap: 32px;
  align-items: center;
}

.nav-link {
  color: var(--white);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 16px;
  border-radius: 4px;
  transition: all 0.3s;
}

.nav-link:hover {
  opacity: 0.8;
}

.nav-link.active {
  background-color: #003366;
}

.dropdown-icon {
  font-size: 10px;
}

.user-icon {
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: background-color 0.3s;
}

.user-icon:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.user-icon-svg {
  display: block;
}

.menu-icon-svg {
  display: none;
}

@media (max-width: 768px) {
  .nav {
    display: none;
  }
  
  .user-icon-svg {
    display: none;
  }
  
  .menu-icon-svg {
    display: block;
  }
  
  .logo-divider-desktop {
    display: none;
  }
  
  .logo-text-desktop {
    display: none;
  }
  
  .logo-divider-mobile {
    display: block;
  }
  
  .logo-text-mobile {
    display: block;
  }
}
</style>

